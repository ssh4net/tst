Целью данного проекта является создание инструментария для projection painting в Blender.
Данный функционал использовался и используется с ранних времен компьютерной графики для 
matte painting, создания 3D моделей на основе фото или видео, для интеграции 3D моделей 
в видео ряд и тп. Во всех случаях как наиболее удобный способ визуализации используется
превью через камеру и проецирование оригинального фото или видео изображения видимого
сквозь камеру на 3Д сцену или 3D обьект.

Если matte painting довольно старая техника и используется студиями по всему миру многие
годы. То развитие методик 3D сканирования и фотограмметрии как частного метода получения
3D моделей получило очень широкое распространение в последние годы. 
Так же для фотореалистичного моделирования огромным спросом пользуются методики
текстурирование с использованием фото или видео материалов. И наиболее быстрый и удобный
для художников способ является работа с текстурой напрямую в 3D редакторе нежели 
использование сторонних 2D пакетов и работа с UV текстурами в ней.

Проект подразумевает улучшение UX как с точки зрения 3D сканирования так и для VFX.
Поэтому будут описаны предлагаемые изменения для обеих. 


---
    SFM реконструкция (Surface from Motion) предусматривает также и
воссоздание текстуры обьектов. Весь фотограмметрический софт имеет
реализацию данного процесса, однако все они на текущий момент имеют
примерно одинаковые ограничения, вне зависимости от того фото- или
видео- сканирование:

 - Тонкие или мелкие детали, такие как ресницы и брови.

 - Поверхностями которые имеют отражения или преломления и не могут быть
обработаны чтобы это устранить, например глаза.

 - Поверхности видимость которых ограничена, например нижняя часть камня, 
лежащего на земле.

 - Также есть ряд ограничений по разрешению датасетов, а именно разрешение
фотографий должно быть одинаковым что важно например при использовании
Camera Rig у которого фронтальная камера имеет больше разрешение чем у
остальных.

    Исправление этих ньюансов требует ручного вмешательства со стороны
пользователя. На данный момент пользователь должен экспортировать сцену с
реконсруированным обьектом и камерами, воссозданную текстуру а также
undistorted изображения для редактирования и вручную коректировать недочеты.

    В Blender на данный момент есть способ для проекционного рисования, при
помощи Clone Brush и UV Project Modifier. Этот метод достаточно
трудозатратный со стороны пользовательского опыта, требует выбирать много
опций что негативно влияет на скорость рабочего процесса. Главным минусом
данного метода является требование к плотности геометрии. Низкополигональные
модели (например, после ретопологии) будут иметь ненужные искажения при 
рисовании. Также лишним шагом в данном процессе является экспорт undistorted
изображений, ведь датасеты могут быть достаточно большими что создает
много лишних файлов. Также желательно иметь контроль над яркостью/контрастом
изображения/видеоклипа, этого данный метод также не предусматривает.

   Конечная цель данного проекта - построить workflow устраняющий данные
недочеты:

** Подготовка сцены **

SFM reconstruction:
 - Экспорт сцены с воссозданными обьектами, камерами а также параметров
 дисторсии для камер (это например, *.csv файл который содержит как intrinsics
 так и extrinsics но для разного софта могут быть свои вариации).
 - Импорт сцены в Blender, открыть оригинальные изображения/видеоклипы.
 Все необходимое для этого уже есть.
 - Автоматически прикрепить изображения/видеоклипы к конкретным камерам,
 они имеют схожие имена в любом софте. Также должна быть предусмотрена возможность
 делать это вручную.
 - Импорт параметров дисторсии. Поскольку форматы записи для разного софта
 отличаются и могут меняться, думаю эта часть должна быть реализована в аддоне,
 или в нескольких аддонах для пользователей разного софта, с целью обеспечения
 совместимости.

VFX:
 - Имеется видеоклип или сиквенция изображений, уже обработанный, с маркерами
 и просчитанной в Movie Tracker дисторсией. Как и в предыдущем случае,
 пользователь может прикрепить его к одной или нескольким камерам.
 - У пользователя должна быть возможность использовать параметры дисторсии
 полученные солвером трекера.
 - Пользователь может сам создать геометрию обьектов (как правило, как раз
 таки низкополигональную).

** Процесс коррекции / рисования текстуры **

Общий для SFM reconstruction и VFX:
 - Выбрать камеру. Подразумевается что при выборе камеры также будет выбрано
 соответствующее изображение/видеоклип
 - Рисовать. Подразумевается что будет происходить проецирование текстуры
 из камеры с коррекцией дисторсии в соответствии с параметрами дисторсии.

    Также важной частью является дать пользователю визуальное представление во
вьюпорте, как именно текстура ляжет на обьект и из какой именно камеры
происходит проецирование(самое очевидное - проецировать из активной камеры
сцены).

    По поводу проекта Brush Management. Описанные workflow имеют тесную
взаимосвязь с конкретной сценой и обьектами в ней, следовательно с точки
зрения пользователя фотограмметриста или VFX художника, ожидается что
проделанная им работа на этапе подготовки будет сохранена именно для этой сцены
и обьектов в ней. Следовательно здесь важно понимать что ни камера с которой
ведется проецирование ни ее параметры дисторсии не должны быть взаимосвязаны с
конкретной кистью. Поскольку датасет изображений/видеоклипов может быть
большой и также связан с конкретными камерами конкретной сцены, он также
не может иметь отношения к кисти.



